<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shyred - Cyberpunk NFT Marketplace</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0a0b1a;
            color: white;
            overflow-x: hidden;
        }

        /* CSS Variables */
        :root {
            --cyber-dark: hsl(230, 25%, 3%);
            --cyber-purple: hsl(280, 90%, 65%);
            --cyber-blue: hsl(220, 90%, 60%);
            --cyber-pink: hsl(320, 85%, 70%);
            --cyber-glow: hsl(280, 100%, 75%);
        }

        /* Container */
        .container {
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* Background Effects */
        .background-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--cyber-dark) 0%, var(--cyber-dark) 60%, var(--cyber-purple) 100%);
            opacity: 0.2;
            z-index: 1;
        }

        .particles-container {
            position: absolute;
            inset: 0;
            z-index: 2;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--cyber-glow);
            border-radius: 50%;
            opacity: 0.6;
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }

        /* Navigation */
        .navigation {
            position: relative;
            z-index: 10;
            padding: 24px 32px;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-auth {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .auth-btn {
            padding: 8px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .auth-btn-login {
            color: var(--cyber-purple);
            border-color: var(--cyber-purple);
            background: transparent;
        }

        .auth-btn-login:hover {
            background: var(--cyber-purple);
            color: white;
        }

        .auth-btn-register {
            background: linear-gradient(45deg, var(--cyber-purple), var(--cyber-blue));
            color: white;
            box-shadow: 0 4px 15px rgba(180, 71, 235, 0.3);
        }

        .auth-btn-register:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(180, 71, 235, 0.5);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .user-info:hover {
            background: rgba(180, 71, 235, 0.2);
        }

        .user-name {
            color: var(--cyber-glow);
            font-weight: 500;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            font-size: 32px;
            font-weight: bold;
            color: var(--cyber-glow);
            text-shadow: 0 0 20px var(--cyber-glow);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--cyber-glow);
            object-fit: cover;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--cyber-glow);
        }

        .nav-links {
            display: flex;
            gap: 48px;
        }

        .nav-link {
            color: #9ca3af;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: color 0.3s ease;
            letter-spacing: 0.5px;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--cyber-glow);
            text-shadow: 0 0 10px var(--cyber-glow);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            z-index: 20;
            background: rgba(10, 11, 26, 0.8);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(180, 71, 235, 0.3);
            padding: 32px 16px;
        }

        .sidebar-content {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .sidebar-letter {
            color: rgba(255, 255, 255, 0.6);
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: color 0.3s ease;
            text-align: center;
        }

        .sidebar-letter:hover {
            color: var(--cyber-glow);
            text-shadow: 0 0 10px var(--cyber-glow);
        }

        /* Main Content */
        .main-content {
            position: relative;
            z-index: 10;
            padding: 48px 32px 48px 100px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 80vh;
        }

        /* Hero Content */
        .hero-content {
            flex: 1;
            max-width: 600px;
        }

        .hero-title {
            font-size: 112px;
            font-weight: 900;
            margin-bottom: 32px;
            background: linear-gradient(to right, var(--cyber-purple), var(--cyber-pink), var(--cyber-blue));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            letter-spacing: -2px;
        }

        .hero-description {
            color: #d1d5db;
            font-size: 18px;
            line-height: 1.7;
            margin-bottom: 48px;
            max-width: 500px;
        }

        .highlight-glow {
            color: var(--cyber-glow);
            text-shadow: 0 0 10px var(--cyber-glow);
        }

        .highlight-purple {
            color: var(--cyber-purple);
            text-shadow: 0 0 10px var(--cyber-purple);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 24px;
            margin-bottom: 64px;
        }

        .btn {
            padding: 12px 32px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-primary {
            background: white;
            color: black;
        }

        .btn-primary:hover {
            background: #f3f4f6;
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
        }

        .btn-secondary {
            background: transparent;
            color: var(--cyber-purple);
            border: 2px solid var(--cyber-purple);
        }

        .btn-secondary:hover {
            background: var(--cyber-purple);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(180, 71, 235, 0.4);
        }

        /* Statistics */
        .statistics {
            display: flex;
            gap: 48px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 48px;
            font-weight: bold;
            color: white;
            margin-bottom: 4px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .stat-label {
            color: #9ca3af;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        /* Character Section */
        .character-section {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .character-container {
            position: relative;
        }

        .character-bg-glow {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, var(--cyber-purple), var(--cyber-blue));
            opacity: 0.3;
            border-radius: 50%;
            filter: blur(64px);
            scale: 1.1;
        }

        .character-image-wrapper {
            position: relative;
            width: 384px;
            height: 384px;
            border-radius: 50%;
            overflow: hidden;
            border: 1px solid var(--cyber-purple);
            box-shadow: 0 0 30px var(--cyber-glow);
            animation: float 3s ease-in-out infinite;
        }

        .character-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .character-outer-glow {
            position: absolute;
            inset: -16px;
            background: linear-gradient(to right, var(--cyber-purple), var(--cyber-blue), var(--cyber-pink));
            opacity: 0.2;
            border-radius: 50%;
            filter: blur(24px);
        }

        /* Additional Glow Effects */
        .glow-effect {
            position: absolute;
            border-radius: 50%;
            filter: blur(64px);
            pointer-events: none;
        }

        .glow-purple {
            top: 25%;
            left: 25%;
            width: 256px;
            height: 256px;
            background: var(--cyber-purple);
            opacity: 0.1;
        }

        .glow-blue {
            bottom: 25%;
            right: 25%;
            width: 192px;
            height: 192px;
            background: var(--cyber-blue);
            opacity: 0.1;
        }

        /* User Menu */
        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-menu-dropdown {
            position: absolute;
            top: calc(100% + 5px);
            right: 0;
            background: rgba(10, 11, 26, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(180, 71, 235, 0.3);
            border-radius: 12px;
            padding: 10px 0;
            min-width: 180px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .user-menu-dropdown::before {
            content: '';
            position: absolute;
            top: -10px;
            right: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(180, 71, 235, 0.3);
        }

        .user-menu:hover .user-menu-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* Extend hover area */
        .user-menu::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: calc(100% + 15px);
            z-index: 999;
        }

        .user-menu-item {
            display: block;
            padding: 10px 20px;
            color: #d1d5db;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 14px;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-family: inherit;
        }

        .user-menu-item:hover {
            background: rgba(180, 71, 235, 0.2);
            color: var(--cyber-glow);
        }

        /* Welcome notification */
        .welcome-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--cyber-blue), var(--cyber-purple));
            color: white;
            padding: 20px 30px;
            border-radius: 12px;
            font-weight: 600;
            z-index: 10000;
            animation: slideInRight 0.5s ease;
            box-shadow: 0 10px 40px rgba(43, 108, 238, 0.4);
            font-size: 16px;
            display: none;
        }

        /* Animations */
        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 5px var(--cyber-glow), 0 0 10px var(--cyber-glow), 0 0 15px var(--cyber-glow);
                opacity: 0.6;
            }
            100% {
                box-shadow: 0 0 10px var(--cyber-glow), 0 0 20px var(--cyber-glow), 0 0 30px var(--cyber-glow);
                opacity: 1;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
                gap: 48px;
                padding: 48px 32px;
            }
            
            .hero-title {
                font-size: 80px;
            }
            
            .character-image-wrapper {
                width: 300px;
                height: 300px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                gap: 24px;
            }
            
            .nav-link {
                font-size: 14px;
            }
            
            .hero-title {
                font-size: 64px;
                text-align: center;
            }
            
            .hero-description {
                font-size: 16px;
                text-align: center;
            }
            
            .action-buttons {
                justify-content: center;
            }
            
            .statistics {
                justify-content: center;
                gap: 32px;
            }
            
            .sidebar {
                display: none;
            }
            
            .main-content {
                padding: 48px 16px;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 48px;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .statistics {
                flex-direction: column;
                gap: 24px;
            }
            
            .character-image-wrapper {
                width: 250px;
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Background Effects -->
        <div class="background-gradient"></div>
        <div class="particles-container" id="particles"></div>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-content">
                <div class="logo-section">
                    <img id="userAvatar" class="user-avatar" src="" alt="User Avatar" style="display: none;">
                    <div class="logo">SHYRED</div>
                </div>
                <div class="nav-links">
                    <a href="index.html" class="nav-link active">HOME</a>
                    <a href="video.html" class="nav-link">VIDEO</a>
                    <a href="marketplace.html" class="nav-link">MARKETPLACE</a>
                    <a href="chatting.html" class="nav-link">CHATTING</a>
                </div>
                <div class="nav-auth" id="navAuth">
                    <a href="login.html" class="auth-btn auth-btn-login" id="loginBtn">Đăng nhập</a>
                    <a href="register.html" class="auth-btn auth-btn-register" id="registerBtn">Đăng ký</a>
                    <div class="user-menu" id="userMenu" style="display: none;">
                        <div class="user-info" id="userInfo">
                            <span class="user-name" id="userName">User</span>
                        </div>
                        <div class="user-menu-dropdown" id="userMenuDropdown">
                            <button class="user-menu-item" onclick="window.location.href='profile.html'">Profile</button>
                            <button class="user-menu-item" onclick="window.location.href='settings.html'">Settings</button>
                            <button class="user-menu-item" onclick="logout()">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-letter">S</div>
                <div class="sidebar-letter">H</div>
                <div class="sidebar-letter">Y</div>
                <div class="sidebar-letter">R</div>
                <div class="sidebar-letter">E</div>
                <div class="sidebar-letter">D</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Content -->
            <div class="hero-content">
                <h1 class="hero-title">SHYRED</h1>
                
                <p class="hero-description">
                     Xin chào, <span class="highlight-glow">tôi là Lê Bảo </span>
                     Một người trẻ đang tìm kiếm chính mình qua từng dòng code và những ước mơ chưa thành. 
                     Trang web này là nơi tôi lưu gi��� hành trình trưởng thành, từ những ngày loay hoay, chênh vênh đến lúc biết đứng dậy và đi tiếp. 
                     Dù chỉ là một góc nhỏ giữa thế giới rộng lớn, 
                     mình mong rằng câu chuyện của mình sẽ chạm đến bạn 
                     một cách thật lặng lẽ mà ấm áp.
                </p>

                <div class="action-buttons">
                    <a href="#" class="btn btn-primary" id="primaryButton">DISCOVER</a>
                    <a href="video.html" class="btn btn-secondary">SHOW VIDEO</a>
                </div>

                <!-- Statistics -->
                <div class="statistics">
                    <div class="stat-item">
                        <div class="stat-number">27K+</div>
                        <div class="stat-label">artist</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">20K+</div>
                        <div class="stat-label">artwork</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">7K+</div>
                        <div class="stat-label">auction</div>
                    </div>
                </div>
            </div>

            <!-- Right Content - Character Image -->
            <div class="character-section">
                <div class="character-container">
                    <div class="character-bg-glow"></div>
                    <div class="character-image-wrapper">
                        <img
                            id="characterImage"
                            src=""
                            alt="User Avatar"
                            class="character-image"
                        />
                    </div>
                    <div class="character-outer-glow"></div>
                </div>
            </div>
        </div>

        <!-- Additional glow effects -->
        <div class="glow-effect glow-purple"></div>
        <div class="glow-effect glow-blue"></div>

        <!-- Welcome Notification -->
        <div class="welcome-notification" id="welcomeNotification"></div>
    </div>

    <script>
        // Particle Effects System
        class ParticleSystem {
            constructor() {
                this.container = document.getElementById('particles');
                this.particles = [];
                this.maxParticles = 50;
                this.init();
            }

            init() {
                this.createParticles();
                this.animateParticles();
            }

            createParticles() {
                for (let i = 0; i < this.maxParticles; i++) {
                    this.createParticle();
                }
            }

            createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random position
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                // Random animation properties
                const animationDelay = Math.random() * 2 + 's';
                const animationDuration = (2 + Math.random() * 3) + 's';
                
                particle.style.animationDelay = animationDelay;
                particle.style.animationDuration = animationDuration;
                
                this.container.appendChild(particle);
                this.particles.push({
                    element: particle,
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5
                });
            }

            animateParticles() {
                setInterval(() => {
                    this.particles.forEach(particle => {
                        particle.x += particle.vx;
                        particle.y += particle.vy;
                        
                        // Boundary check
                        if (particle.x < 0 || particle.x > window.innerWidth) {
                            particle.vx *= -1;
                        }
                        if (particle.y < 0 || particle.y > window.innerHeight) {
                            particle.vy *= -1;
                        }
                        
                        // Keep within bounds
                        particle.x = Math.max(0, Math.min(window.innerWidth, particle.x));
                        particle.y = Math.max(0, Math.min(window.innerHeight, particle.y));
                        
                        particle.element.style.left = particle.x + 'px';
                        particle.element.style.top = particle.y + 'px';
                    });
                }, 50);
            }
        }

        // Load and apply saved theme
        function loadSavedTheme() {
            const currentUser = JSON.parse(localStorage.getItem('shyred_current_user') || 'null');
            if (currentUser && currentUser.settings && currentUser.settings.theme) {
                const theme = currentUser.settings.theme;
                applyTheme(theme);
                console.log('Applied saved theme:', theme);
            }
        }

        // Apply theme to page
        function applyTheme(theme) {
            const root = document.documentElement;
            root.style.setProperty('--cyber-purple', theme.primaryColor);
            root.style.setProperty('--cyber-blue', theme.secondaryColor);
            root.style.setProperty('--cyber-pink', theme.accentColor);
            root.style.setProperty('--cyber-glow', theme.primaryColor);

            // Update background gradient
            const backgroundGradient = document.querySelector('.background-gradient');
            if (backgroundGradient) {
                const rgb = hexToRgb(theme.primaryColor);
                backgroundGradient.style.background = `linear-gradient(135deg, var(--cyber-dark) 0%, var(--cyber-dark) 60%, rgba(${rgb}, 0.2) 100%)`;
            }

            // Update glow effects manually for elements that need specific opacity
            const glowPurple = document.querySelector('.glow-purple');
            const glowBlue = document.querySelector('.glow-blue');

            if (glowPurple) {
                const rgb = hexToRgb(theme.primaryColor);
                glowPurple.style.background = `rgba(${rgb}, 0.1)`;
            }
            if (glowBlue) {
                const rgb = hexToRgb(theme.secondaryColor);
                glowBlue.style.background = `rgba(${rgb}, 0.1)`;
            }
        }

        // Helper function to convert hex to rgb
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ?
                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` :
                '180, 71, 235';
        }

        // Helper function to get default avatar
        function getDefaultAvatar() {
            return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQwKSIvPgo8Y2lyY2xlIGN4PSIyMCIgY3k9IjE1IiByPSI2IiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjgiLz4KPHBhdGggZD0iTTMwIDMwQzMwIDI1LjU4MjggMjYuNDE4MyAyMiAyMiAyMkgxMkM3LjU4MTcyIDIyIDQgMjUuNTgyOCA0IDMwVjMwSDMwWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC44Ii8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MCIgeDElPSIwIiB5MT0iMCIgeDI9IjQwIiB5Mj0iNDAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0I0NDdFQiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyQjZDRUUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4=';
        }

        // Check authentication status and update UI
        function updateAuthUI() {
            const currentUser = JSON.parse(localStorage.getItem('shyred_current_user') || 'null');
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            const primaryButton = document.getElementById('primaryButton');
            const userAvatar = document.getElementById('userAvatar');
            const characterImage = document.getElementById('characterImage');

            // Update character image with user avatar or default
            if (characterImage) {
                characterImage.src = (currentUser && currentUser.avatar) ? currentUser.avatar : getDefaultAvatar();
            }

            if (currentUser) {
                // User is logged in - hide auth buttons, show user menu
                if (loginBtn) loginBtn.style.display = 'none';
                if (registerBtn) registerBtn.style.display = 'none';
                if (userMenu) userMenu.style.display = 'flex';
                if (userName) userName.textContent = currentUser.username;

                // Show user avatar
                if (currentUser.avatar && userAvatar) {
                    userAvatar.src = currentUser.avatar;
                    userAvatar.style.display = 'block';
                }

                // Change primary button to PROFILE
                if (primaryButton) {
                    primaryButton.textContent = 'PROFILE';
                    primaryButton.href = 'profile.html';
                }

                // Check if this is a fresh login (show welcome message)
                const isNewLogin = localStorage.getItem('shyred_new_login');
                if (isNewLogin === 'true') {
                    showWelcomeNotification(currentUser.username);
                    localStorage.removeItem('shyred_new_login');
                }
            } else {
                // User is not logged in - show auth buttons, hide user menu
                if (loginBtn) loginBtn.style.display = 'inline-block';
                if (registerBtn) registerBtn.style.display = 'inline-block';
                if (userMenu) userMenu.style.display = 'none';

                // Hide user avatar
                if (userAvatar) userAvatar.style.display = 'none';

                // Keep primary button as DISCOVER
                if (primaryButton) {
                    primaryButton.textContent = 'DISCOVER';
                    primaryButton.href = '#';
                }
            }
        }

        // Show welcome notification
        function showWelcomeNotification(username) {
            const notification = document.getElementById('welcomeNotification');
            notification.textContent = `Chào mừng ${username} đến với SHYRED! 🎉`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Logout function
        function logout(event) {
            if (event) event.preventDefault();
            if (confirm('Bạn có chắc chắn muốn đăng xuất?')) {
                localStorage.removeItem('shyred_current_user');
                updateAuthUI();

                // Show logout notification
                const notification = document.getElementById('welcomeNotification');
                notification.textContent = 'Đã đăng xuất thành công!';
                notification.style.background = 'linear-gradient(45deg, #ef4444, #dc2626)';
                notification.style.display = 'block';

                setTimeout(() => {
                    notification.style.display = 'none';
                    notification.style.background = 'linear-gradient(45deg, var(--cyber-blue), var(--cyber-purple))';
                }, 2000);
            }
        }

        // Smooth scrolling for navigation links
        function initSmoothScrolling() {
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // Remove active class from all links
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    // Add active class to clicked link
                    this.classList.add('active');
                });
            });
        }

        // Button hover effects
        function initButtonEffects() {
            const buttons = document.querySelectorAll('.btn');
            
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                });
                
                button.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
                
                button.addEventListener('click', function() {
                    // Add click animation
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.05)';
                    }, 100);
                });
            });
        }

        // Sidebar letter effects
        function initSidebarEffects() {
            const letters = document.querySelectorAll('.sidebar-letter');
            
            letters.forEach(letter => {
                letter.addEventListener('click', function() {
                    // Add glow effect on click
                    this.style.textShadow = '0 0 20px var(--cyber-glow)';
                    this.style.color = 'var(--cyber-glow)';
                    
                    setTimeout(() => {
                        this.style.textShadow = '';
                        this.style.color = '';
                    }, 1000);
                });
            });
        }

        // Character image glow effect on hover
        function initCharacterEffects() {
            const characterWrapper = document.querySelector('.character-image-wrapper');
            const characterGlow = document.querySelector('.character-outer-glow');
            
            if (characterWrapper && characterGlow) {
                characterWrapper.addEventListener('mouseenter', function() {
                    characterGlow.style.filter = 'blur(32px)';
                    characterGlow.style.opacity = '1';
                });
                
                characterWrapper.addEventListener('mouseleave', function() {
                    characterGlow.style.filter = 'blur(24px)';
                    characterGlow.style.opacity = '0.7';
                });
            }
        }

        // Statistics counter animation
        function animateCounters() {
            const statNumbers = document.querySelectorAll('.stat-number');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        const finalNumber = target.textContent;
                        const number = parseInt(finalNumber.replace(/[^\d]/g, ''));
                        const suffix = finalNumber.replace(/[\d]/g, '');
                        
                        animateNumber(target, 0, number, suffix, 2000);
                        observer.unobserve(target);
                    }
                });
            });
            
            statNumbers.forEach(stat => {
                observer.observe(stat);
            });
        }

        function animateNumber(element, start, end, suffix, duration) {
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                const current = Math.floor(start + (end - start) * easeOutQuart);
                
                element.textContent = current + suffix;
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }

        // Handle window resize
        function handleResize() {
            window.addEventListener('resize', () => {
                // Recreate particles for new window size
                const particleSystem = new ParticleSystem();
            });
        }

        // Loading animation
        function initLoadingAnimation() {
            const heroTitle = document.querySelector('.hero-title');
            const heroDescription = document.querySelector('.hero-description');
            const actionButtons = document.querySelector('.action-buttons');
            const characterWrapper = document.querySelector('.character-image-wrapper');
            
            // Initially hide elements
            [heroTitle, heroDescription, actionButtons, characterWrapper].forEach(el => {
                if (el) {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(50px)';
                }
            });
            
            // Animate elements in sequence
            setTimeout(() => {
                if (heroTitle) {
                    heroTitle.style.transition = 'all 0.8s ease';
                    heroTitle.style.opacity = '1';
                    heroTitle.style.transform = 'translateY(0)';
                }
            }, 200);
            
            setTimeout(() => {
                if (heroDescription) {
                    heroDescription.style.transition = 'all 0.8s ease';
                    heroDescription.style.opacity = '1';
                    heroDescription.style.transform = 'translateY(0)';
                }
            }, 400);
            
            setTimeout(() => {
                if (actionButtons) {
                    actionButtons.style.transition = 'all 0.8s ease';
                    actionButtons.style.opacity = '1';
                    actionButtons.style.transform = 'translateY(0)';
                }
            }, 600);
            
            setTimeout(() => {
                if (characterWrapper) {
                    characterWrapper.style.transition = 'all 1s ease';
                    characterWrapper.style.opacity = '1';
                    characterWrapper.style.transform = 'translateY(0)';
                }
            }, 800);
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all systems
            const particleSystem = new ParticleSystem();
            initSmoothScrolling();
            initButtonEffects();
            initSidebarEffects();
            initCharacterEffects();
            animateCounters();
            handleResize();
            initLoadingAnimation();
            
            // Load saved theme first
            loadSavedTheme();

            // Update authentication UI
            updateAuthUI();

            // Setup alternative button handlers
            setupButtonHandlers();

            console.log('SHYRED website initialized successfully!');
        });

        // Add alternative click handlers for buttons
        function setupButtonHandlers() {
            // Settings buttons
            document.querySelectorAll('[onclick*="settings.html"]').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Settings button clicked in index');
                    window.location.href = 'settings.html';
                });
            });

            // Logout buttons
            document.querySelectorAll('[onclick*="logout"]').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Logout button clicked in index');
                    logout(e);
                });
            });
        }
        ;

        // Add some interactive features
        document.addEventListener('click', function(e) {
            // Create ripple effect on click
            if (e.target.classList.contains('btn')) {
                createRipple(e);
            }
        });

        function createRipple(event) {
            const button = event.target;
            const ripple = document.createElement('span');
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');
            
            // Add ripple CSS if not exists
            if (!document.querySelector('#ripple-style')) {
                const style = document.createElement('style');
                style.id = 'ripple-style';
                style.textContent = `
                    .ripple {
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(255, 255, 255, 0.3);
                        transform: scale(0);
                        animation: ripple-animation 0.6s linear;
                        pointer-events: none;
                    }
                    
                    @keyframes ripple-animation {
                        to {
                            transform: scale(2);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            button.style.position = 'relative';
            button.style.overflow = 'hidden';
            button.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
    </script>
</body>
</html>
